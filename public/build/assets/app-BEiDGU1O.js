import{c as E}from"./bootstrap-DKHMZEGZ.js";var D={exports:{}};/**
 * @license
 *
 * Push v1.0.9
 * =========
 * A compact, cross-browser solution for the JavaScript Notifications API
 *
 * Credits
 * -------
 * Tsvetan Tsvetkov (ttsvetko)
 * Alex Gibson (alexgibson)
 *
 * License
 * -------
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2015-2017 Tyler Nickerson
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(S,F){(function(v,y){S.exports=y()})(E,function(){var v={errors:{incompatible:"".concat("PushError:"," Push.js is incompatible with browser."),invalid_plugin:"".concat("PushError:"," plugin class missing from plugin manifest (invalid plugin). Please check the documentation."),invalid_title:"".concat("PushError:"," title of notification must be a string"),permission_denied:"".concat("PushError:"," permission request declined"),sw_notification_error:"".concat("PushError:"," could not show a ServiceWorker notification due to the following reason: "),sw_registration_error:"".concat("PushError:"," could not register the ServiceWorker due to the following reason: "),unknown_interface:"".concat("PushError:"," unable to create notification: unknown interface")}};function y(o){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}function l(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function b(o,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function _(o,i,t){return i&&b(o.prototype,i),t&&b(o,t),o}function p(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&N(o,i)}function w(o){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(o)}function N(o,i){return(N=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(o,i)}function g(o,i){return!i||typeof i!="object"&&typeof i!="function"?function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o):i}var P=function(){function o(i){l(this,o),this._win=i,this.GRANTED="granted",this.DEFAULT="default",this.DENIED="denied",this._permissions=[this.GRANTED,this.DEFAULT,this.DENIED]}return _(o,[{key:"request",value:function(i,t){return arguments.length>0?this._requestWithCallback.apply(this,arguments):this._requestAsPromise()}},{key:"_requestWithCallback",value:function(i,t){var n,e=this,a=this.get(),r=!1,s=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e._win.Notification.permission;r||(r=!0,u===void 0&&e._win.webkitNotifications&&(u=e._win.webkitNotifications.checkPermission()),u===e.GRANTED||u===0?i&&i():t&&t())};a!==this.DEFAULT?s(a):this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._win.webkitNotifications.requestPermission(s):this._win.Notification&&this._win.Notification.requestPermission?(n=this._win.Notification.requestPermission(s))&&n.then&&n.then(s).catch(function(){t&&t()}):i&&i()}},{key:"_requestAsPromise",value:function(){var i=this,t=this.get(),n=t!==this.DEFAULT,e=this._win.Notification&&this._win.Notification.requestPermission,a=this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission;return new Promise(function(r,s){var u,f=!1,h=function(d){f||(f=!0,function(m){return m===i.GRANTED||m===0}(d)?r():s())};n?h(t):a?i._win.webkitNotifications.requestPermission(function(d){h(d)}):e?(u=i._win.Notification.requestPermission(h))&&u.then&&u.then(h).catch(s):r()})}},{key:"has",value:function(){return this.get()===this.GRANTED}},{key:"get",value:function(){return this._win.Notification&&this._win.Notification.permission?this._win.Notification.permission:this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._permissions[this._win.webkitNotifications.checkPermission()]:navigator.mozNotification?this.GRANTED:this._win.external&&this._win.external.msIsSiteMode?this._win.external.msIsSiteMode()?this.GRANTED:this.DEFAULT:this.GRANTED}}]),o}(),c=function(){function o(){l(this,o)}return _(o,null,[{key:"isUndefined",value:function(i){return i===void 0}},{key:"isNull",value:function(i){return obj===null}},{key:"isString",value:function(i){return typeof i=="string"}},{key:"isFunction",value:function(i){return i&&{}.toString.call(i)==="[object Function]"}},{key:"isObject",value:function(i){return y(i)==="object"}},{key:"objectMerge",value:function(i,t){for(var n in t)i.hasOwnProperty(n)&&this.isObject(i[n])&&this.isObject(t[n])?this.objectMerge(i[n],t[n]):i[n]=t[n]}}]),o}(),k=function o(i){l(this,o),this._win=i},O=function(o){function i(){return l(this,i),g(this,w(i).apply(this,arguments))}return p(i,k),_(i,[{key:"isSupported",value:function(){return this._win.Notification!==void 0}},{key:"create",value:function(t,n){return new this._win.Notification(t,{icon:c.isString(n.icon)||c.isUndefined(n.icon)||c.isNull(n.icon)?n.icon:n.icon.x32,body:n.body,tag:n.tag,requireInteraction:n.requireInteraction})}},{key:"close",value:function(t){t.close()}}]),i}(),j=function(o){function i(){return l(this,i),g(this,w(i).apply(this,arguments))}return p(i,k),_(i,[{key:"isSupported",value:function(){return this._win.navigator!==void 0&&this._win.navigator.serviceWorker!==void 0}},{key:"getFunctionBody",value:function(t){var n=t.toString().match(/function[^{]+{([\s\S]*)}$/);return n!=null&&n.length>1?n[1]:null}},{key:"create",value:function(t,n,e,a,r){var s=this;this._win.navigator.serviceWorker.register(a),this._win.navigator.serviceWorker.ready.then(function(u){var f={id:t,link:e.link,origin:document.location.href,onClick:c.isFunction(e.onClick)?s.getFunctionBody(e.onClick):"",onClose:c.isFunction(e.onClose)?s.getFunctionBody(e.onClose):""};e.data!==void 0&&e.data!==null&&(f=Object.assign(f,e.data)),u.showNotification(n,{icon:e.icon,body:e.body,vibrate:e.vibrate,tag:e.tag,data:f,requireInteraction:e.requireInteraction,silent:e.silent}).then(function(){u.getNotifications().then(function(h){u.active.postMessage(""),r(h)})}).catch(function(h){throw new Error(v.errors.sw_notification_error+h.message)})}).catch(function(u){throw new Error(v.errors.sw_registration_error+u.message)})}},{key:"close",value:function(){}}]),i}(),C=function(o){function i(){return l(this,i),g(this,w(i).apply(this,arguments))}return p(i,k),_(i,[{key:"isSupported",value:function(){return this._win.navigator.mozNotification!==void 0}},{key:"create",value:function(t,n){var e=this._win.navigator.mozNotification.createNotification(t,n.body,n.icon);return e.show(),e}}]),i}(),x=function(o){function i(){return l(this,i),g(this,w(i).apply(this,arguments))}return p(i,k),_(i,[{key:"isSupported",value:function(){return this._win.external!==void 0&&this._win.external.msIsSiteMode!==void 0}},{key:"create",value:function(t,n){return this._win.external.msSiteModeClearIconOverlay(),this._win.external.msSiteModeSetIconOverlay(c.isString(n.icon)||c.isUndefined(n.icon)?n.icon:n.icon.x16,t),this._win.external.msSiteModeActivate(),null}},{key:"close",value:function(){this._win.external.msSiteModeClearIconOverlay()}}]),i}(),q=function(o){function i(){return l(this,i),g(this,w(i).apply(this,arguments))}return p(i,k),_(i,[{key:"isSupported",value:function(){return this._win.webkitNotifications!==void 0}},{key:"create",value:function(t,n){var e=this._win.webkitNotifications.createNotification(n.icon,t,n.body);return e.show(),e}},{key:"close",value:function(t){t.cancel()}}]),i}();return new(function(){function o(i){l(this,o),this._currentId=0,this._notifications={},this._win=i,this.Permission=new P(i),this._agents={desktop:new O(i),chrome:new j(i),firefox:new C(i),ms:new x(i),webkit:new q(i)},this._configuration={serviceWorker:"/serviceWorker.min.js",fallback:function(t){}}}return _(o,[{key:"_closeNotification",value:function(i){var t=!0,n=this._notifications[i];if(n!==void 0){if(t=this._removeNotification(i),this._agents.desktop.isSupported())this._agents.desktop.close(n);else if(this._agents.webkit.isSupported())this._agents.webkit.close(n);else{if(!this._agents.ms.isSupported())throw t=!1,new Error(v.errors.unknown_interface);this._agents.ms.close()}return t}return!1}},{key:"_addNotification",value:function(i){var t=this._currentId;return this._notifications[t]=i,this._currentId++,t}},{key:"_removeNotification",value:function(i){var t=!1;return this._notifications.hasOwnProperty(i)&&(delete this._notifications[i],t=!0),t}},{key:"_prepareNotification",value:function(i,t){var n,e=this;return n={get:function(){return e._notifications[i]},close:function(){e._closeNotification(i)}},t.timeout&&setTimeout(function(){n.close()},t.timeout),n}},{key:"_serviceWorkerCallback",value:function(i,t,n){var e=this,a=this._addNotification(i[i.length-1]);navigator&&navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",function(r){var s=JSON.parse(r.data);s.action==="close"&&Number.isInteger(s.id)&&e._removeNotification(s.id)}),n(this._prepareNotification(a,t))),n(null)}},{key:"_createCallback",value:function(i,t,n){var e,a=this,r=null;if(t=t||{},e=function(d){a._removeNotification(d),c.isFunction(t.onClose)&&t.onClose.call(a,r)},this._agents.desktop.isSupported())try{r=this._agents.desktop.create(i,t)}catch{var s=this._currentId,u=this.config().serviceWorker;this._agents.chrome.isSupported()&&this._agents.chrome.create(s,i,t,u,function(m){return a._serviceWorkerCallback(m,t,n)})}else this._agents.webkit.isSupported()?r=this._agents.webkit.create(i,t):this._agents.firefox.isSupported()?this._agents.firefox.create(i,t):this._agents.ms.isSupported()?r=this._agents.ms.create(i,t):(t.title=i,this.config().fallback(t));if(r!==null){var f=this._addNotification(r),h=this._prepareNotification(f,t);c.isFunction(t.onShow)&&r.addEventListener("show",t.onShow),c.isFunction(t.onError)&&r.addEventListener("error",t.onError),c.isFunction(t.onClick)&&r.addEventListener("click",t.onClick),r.addEventListener("close",function(){e(f)}),r.addEventListener("cancel",function(){e(f)}),n(h)}n(null)}},{key:"create",value:function(i,t){var n,e=this;if(!c.isString(i))throw new Error(v.errors.invalid_title);return n=this.Permission.has()?function(a,r){try{e._createCallback(i,t,a)}catch(s){r(s)}}:function(a,r){e.Permission.request().then(function(){e._createCallback(i,t,a)}).catch(function(){r(v.errors.permission_denied)})},new Promise(n)}},{key:"count",value:function(){var i,t=0;for(i in this._notifications)this._notifications.hasOwnProperty(i)&&t++;return t}},{key:"close",value:function(i){var t;for(t in this._notifications)if(this._notifications.hasOwnProperty(t)&&this._notifications[t].tag===i)return this._closeNotification(t)}},{key:"clear",value:function(){var i,t=!0;for(i in this._notifications)this._notifications.hasOwnProperty(i)&&(t=t&&this._closeNotification(i));return t}},{key:"supported",value:function(){var i=!1;for(var t in this._agents)this._agents.hasOwnProperty(t)&&(i=i||this._agents[t].isSupported());return i}},{key:"config",value:function(i){return(i!==void 0||i!==null&&c.isObject(i))&&c.objectMerge(this._configuration,i),this._configuration}},{key:"extend",value:function(i){var t,n={}.hasOwnProperty;if(!n.call(i,"plugin"))throw new Error(v.errors.invalid_plugin);for(var e in n.call(i,"config")&&c.isObject(i.config)&&i.config!==null&&this.config(i.config),t=new i.plugin(this.config()))n.call(t,e)&&c.isFunction(t[e])&&(this[e]=t[e])}}]),o}())(typeof window<"u"?window:E)})})(D);
